<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="index,nofollow">

<title>FrequentlyAskedQuestions</title>

<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="wiki/monobook/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="wiki/monobook/css/monobook.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="wiki/monobook/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="wiki/monobook/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="wiki/monobook/css/projection.css">












</head>

<body  lang="en" dir="ltr">
<div id="globalWrapper">
<div id="column-content">
<div id="page" lang="en" dir="ltr">




<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867">
<h1 id="head-ad70360a1217801f484257d1d32575e4edba7557">Frequently Asked Questions</h1>
<span class="anchor" id="line-2"></span><p class="line867">
<h3 id="head-276048e02b6218f75fcfd7956bd5ea1ac1d088a7">What is DHCP?</h3>
<span class="anchor" id="line-3"></span><p class="line867"><em>[Extract from RFC 2131]</em> <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line874">The Dynamic Host Configuration Protocol (DHCP) provides configuration parameters to Internet hosts. DHCP consists of two components: a protocol for delivering host-specific configuration parameters from a DHCP server to a host and a mechanism for allocation of network addresses to hosts. <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><p class="line867">
<h3 id="head-d4a5626f0121de6b3c51fd82cbf1c6166e3491e1">Where can I find information about the DHCP protocol?</h3>
<span class="anchor" id="line-8"></span><p class="line874">The first source of information are the RFCs themselves. See below about RFC compliance. <span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><p class="line874">I suggest an excellent book on DHCP: The DHCP Handbook (2nd edition), Ralph Droms and Ted Lemon. <span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><p class="line867">
<h3 id="head-ec7afe171658a536fb498fc8ac6f5ea91b4a8a69">Is DHCP4Java free to use?</h3>
<span class="anchor" id="line-13"></span><p class="line874">Yes. It is provided under L-GPL licence, which means that you can you it in any code, open-source or not. <span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><p class="line867">
<h3 id="head-45c1cfe62bc5e25ac4390dc8692124ade3c86d8a">What is a DHCP static/dynamic/algorithmic server?</h3>
<span class="anchor" id="line-16"></span><p class="line874">There are three basic ways to allocate IP addresses to clients: static (pre-configured client by client), dynamic (allocated from address pools), algorithmic (calculated from data in the request - often taken from option 82). <span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><p class="line867"><em>Static address allocation</em> is the simplest server to implement. It requires that every client is pre-provisioned in the server. Each client is always given the same address (hopefully) different from one client to another. However this allocation scheme is not very flexible and generates high administrative work to network administrators. It is still used for equipment needing fixed IP addresses such as printers... <span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><p class="line867"><em>Dynamic address allocation</em> allows automatic address allocation generally on a first-connected first-served scheme. Leases are limited in time to allow address reuse if a client is permanently disconnected. This scheme requires persistence on the server side which raises some availability issues. Such servers should also be aware of denial of service caused by the exhaustion of all available addresses from a bogus/malicious client. <span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><p class="line867"><em>Algorithmic address allocation</em> is a mix of the two previous schemes. It can be seen as an "automatic static server" in which addresses are not manually preallocated, but calculated on the fly with data taken from the request. This is generally used by ISPs (cable or DSL) to assign a fixed IP address to each physical line (cable or phone) allocated in sequence. This is done by analysing the option 82 added by the DHCP relay which marks the id of the physical line used. Simple calculation can be done to assign an IP address based on the subnet and line-id information. This scheme is quite easy to implement but has two drawbacks: it allows only 1 IP address per physical line, and it needs pre-allocation of all possible IP addresses even if there is no connected client. For this later reason, it is often limited to private non-routable IP addresses. <span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><p class="line862">DHCP4Java will first support <em>static</em> and <em>algorithmic</em> allocation. Fully <em>dynamic</em> is for future plans. <span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span><p class="line867"><strong>Why using Java for a DHCP Server</strong> <span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><p class="line874">Traditional DHCP Server implementations are built using C or C++. It appeared quickly that such servers could be developed as well using higher productivity languages such as PERL or Java. <span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><p class="line874">Java offers unique opportunities to server development such as: easy multi-threading/multi-CPU/mutli-core support, wide variety of connectivity APIs to databases through JDBC, wide community of developers... <span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><p class="line867">
<h3 id="head-e8d5c7bf98288058d2856b9568e879c9af02b3ad">Are there limitations introduced by Java?</h3>
<span class="anchor" id="line-33"></span><p class="line874">Very few. <span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><p class="line862">The UdpDatagram API does not allow to send datagrams to 255.255.255.255 IP address (broadcast) using Ethernet unicast to a specific MAC address. This means that DHCPOFFER are always broadcast on the network, as if the "Broadcast bit" in client requests is always set. This has no impact on client, it only generates little additionnal traffic on the link, which is totally negligible on modern networks. <span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><p class="line874">It is not possible to develop a DHCP Client in pure Java, due to a lack of API to read the MAC address of the network link. You can still develop a test Client or use system specific command/API. <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><p class="line867">
<h3 id="head-43a13d516a4f05e9ed5ad3b02441a391899449d9">What version of Java is supported?</h3>
<span class="anchor" id="line-40"></span><p class="line874">DHCP4Java requires Java5 (J2SE or J2EE), aka Java 1.5. <span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><p class="line874">I switched to Java5 early in the development stage and I will not go back (do not ask!). Java5 simplifies the code dramatically thanks to generics, static imports, boxing/unboxing and concurrency libraries. This API will be mainly used to develop new servers, and I cannot see any use case of using this API in existing code prior to Java5. <span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><p class="line867">
<h3 id="head-711166f83e251f082f2a4c8ab3e9930ddf02ee69">Does DHCP4Java support J2ME?</h3>
<span class="anchor" id="line-45"></span><p class="line874">Not currently. However it should be relatively easy to simplify the API for a J2ME version. Let me know if there is such a need. <span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><p class="line867">
<h3 id="head-9cefb89444d3b66933214cff582d466f859cb7ba">Can DHCP4Java be used to implement a DHCP Client?</h3>
<span class="anchor" id="line-48"></span><p class="line874">Yes at the protocol level. No for Java implementation reasons. <span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><p class="line874">There is no standard way in Java to retrieve the MAC address of a network interface. This requires non-portable system specific calls. <span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><p class="line867"><em>By the way, if you some way to develop a 100% Java DHCP client, please let me know.</em> <span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><p class="line867">
<h3 id="head-846c3f56014e9979111dddc9bbaf2f5495e12b5f">Do you provide a DHCP Client?</h3>
<span class="anchor" id="line-55"></span><p class="line874">No, please so above about the Java limitations. <span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><p class="line874">You can find sample code for DHCP client in the examples package, but it is merely for server testing purpose. <span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><p class="line867">
<h3 id="head-962f91757e03915b728d708d6903ea06d3aaded1">Do you provide a DHCP Relay?</h3>
<span class="anchor" id="line-60"></span><p class="line874">Not currently. First option would be to develop an independant relay such as the one from ISC. My plans are to provide a "proxy-mode" to the DHCP Server to allow DHCP requests relaying. This mode would be similar to the mod_proxy module for the Apache server. <span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><p class="line867">
<h3 id="head-e6f96511d4da4e2d91ce0c5943265cf5e8cf61a8">Do you proviude a DHCP Server?</h3>
<span class="anchor" id="line-63"></span><p class="line874">Yes [very soon]. <span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><p class="line874">A static server will come first, then a complete dynamic server. <span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><p class="line867">
<h3 id="head-2d301df07fab85dca7d2f49f58d9207d4b830342">Do you provide a BOOTP client or server?</h3>
<span class="anchor" id="line-68"></span><p class="line874">No. BOOTP is supported only at the API level, but largely untested. <span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><p class="line867">
<h3 id="head-37e2ec1d6242e080c0d95c20fd146e06c5c46942">Do you support IPv6?</h3>
<span class="anchor" id="line-71"></span><p class="line874">No. DHCP4Java only supports IPv4. <span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><p class="line874">DHCP for IPv6 is a totally different story, maybe someday? <span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><p class="line867">
<h3 id="head-320179a676f4ca218a21c7bdcd1c0fa504b64106">Does Java offer enough performance compared to C?</h3>
<span class="anchor" id="line-76"></span><p class="line874">Yes. Comparative tests are planned, but Java performance is largely enough even for high volume DHCP servers, see right below. <span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><p class="line867">
<h3 id="head-f684b4cb91455c495a92ad761f399e6dbb232dcb">How fast is DHCP4Java?</h3>
<span class="anchor" id="line-79"></span><p class="line874">The API has been designed to be fast enough to support very large scale DHCP servers for millions of customers. <span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><p class="line874">Formal performance tests are planned. However, preliminary tests show that the API is able to handle more than 10.000 req/s on a simple Laptop (Pentium-M 1.5GHz) with 512MB memory. <span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><p class="line874">My original API was implemented in PERL, but I decided to switch to Java to broaden the potential developers audience. Porting the API from PERL to Java showed a ~10x performance boost with additionnal support for multi-threading. <span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><p class="line867">
<h3 id="head-968e73447cfb53e37a5fe5835d7f6227c305185a">Can I use DHCP4Java to implement a BOOTP server?</h3>
<span class="anchor" id="line-86"></span><p class="line874">Yes. DHCP4Java fully support BOOTP. <span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><p class="line874">However my first goal is to develop a DHCP server. BOOTP code is largelly untested. Use it at your own risk. Feedback and bug reports would be appreciated. <span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><p class="line867">
<h3 id="head-6514111b9605cffa9d80135155e92c6a8d1a0f2b">Which RFCs are supported by DHCP4Java</h3>
<span class="anchor" id="line-91"></span><p class="line874">Our design objectives are to be totally conformant to RFC regarding BOOTP/DHCP. Any non-conformant feature will be clearly documented and argumented. This may include special work-arounds for client bugs or future DHCP feautures not totally normalized yet. <span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><p class="line874">This includes the following RFC: <span class="anchor" id="line-94"></span><div><table class="borderless" style="width:"><tbody><tr>  <td style="vertical-align: bottom;"><p class="line891"><a class="http" href="http://www.ietf.org/rfc/rfc1534.txt">RFC 1534</a>: </td>
  <td style="vertical-align: bottom;"><p class="line862"> Interoperation Between DHCP and BOOTP </td>
</tr>
<tr>  <td style="vertical-align: bottom;"><span class="anchor" id="line-95"></span><p class="line891"><a class="http" href="http://www.ietf.org/rfc/rfc2131.txt">RFC 2131</a>: </td>
  <td class=".html" style="vertical-align: bottom;"><p class="line862">Dynamic Host Configuration Protocol, Obsoletes RFC 1541 </td>
</tr>
<tr>  <td style="vertical-align: bottom;"><span class="anchor" id="line-96"></span><p class="line891"><a class="http" href="http://www.ietf.org/rfc/rfc2132.txt">RFC 2132</a>: </td>
  <td style="vertical-align: bottom;"><p class="line862">DHCP Options and BOOTP Vendor Extensions </td>
</tr>
<tr>  <td style="vertical-align: bottom;"><span class="anchor" id="line-97"></span><p class="line891"><a class="http" href="http://www.ietf.org/rfc/rfc2241.txt">RFC 2241</a>: </td>
  <td style="vertical-align: bottom;"><p class="line862">DHCP Options for Novell Directory Services </td>
</tr>
<tr>  <td style="vertical-align: bottom;"><span class="anchor" id="line-98"></span><p class="line891"><a class="http" href="http://www.ietf.org/rfc/rfc2242.txt">RFC 2242</a>: </td>
  <td style="vertical-align: bottom;"><p class="line891">NetWare/IP Domain Name and Information </td>
</tr>
<tr>  <td style="vertical-align: bottom;"><span class="anchor" id="line-99"></span><p class="line891"><a class="http" href="http://www.ietf.org/rfc/rfc2855.txt">RFC 2855</a>: </td>
  <td style="vertical-align: bottom;"><p class="line862">DHCP for IEEE 1394 </td>
</tr>
<tr>  <td style="vertical-align: bottom;"><span class="anchor" id="line-100"></span><p class="line891"><a class="http" href="http://www.ietf.org/rfc/rfc2937.txt">RFC 2937</a>: </td>
  <td style="vertical-align: bottom;"><p class="line862">The Name Service Search Option for DHCP </td>
</tr>
<tr>  <td style="vertical-align: bottom;"><span class="anchor" id="line-101"></span><p class="line891"><a class="http" href="http://www.ietf.org/rfc/rfc3004.txt">RFC 3004</a>: </td>
  <td style="vertical-align: bottom;"><p class="line862">The User Class Option for DHCP </td>
</tr>
<tr>  <td style="vertical-align: bottom;"><span class="anchor" id="line-102"></span><p class="line891"><a class="http" href="http://www.ietf.org/rfc/rfc3011.txt">RFC 3011</a>: </td>
  <td style="vertical-align: bottom;"><p class="line862">The IPv4 Subnet Selection Option for DHCP </td>
</tr>
<tr>  <td style="vertical-align: bottom;"><span class="anchor" id="line-103"></span><p class="line891"><a class="http" href="http://www.ietf.org/rfc/rfc3046.txt">RFC 3046</a>: </td>
  <td style="vertical-align: bottom;"><p class="line862">DHCP Relay Agent Information Option </td>
</tr>
<tr>  <td style="vertical-align: bottom;"><span class="anchor" id="line-104"></span><p class="line891"><a class="http" href="http://www.ietf.org/rfc/rfc3396.txt">RFC 3396</a>: </td>
  <td style="vertical-align: bottom;"><p class="line862">Encoding Long Options in the Dynamic Host Configuration Protocol (DHCPv4) [<em>not yet implemented</em>] </td>
</tr>
<tr>  <td style="vertical-align: bottom;"><span class="anchor" id="line-105"></span><p class="line891"><a class="http" href="http://www.ietf.org/rfc/rfc3397.txt">RFC 3397</a>: </td>
  <td style="vertical-align: bottom;"><p class="line862">Dynamic Host Configuration Protocol (DHCP) Domain Search Option </td>
</tr>
<tr>  <td style="vertical-align: bottom;"><span class="anchor" id="line-106"></span><p class="line891"><a class="http" href="http://www.ietf.org/rfc/rfc3442.txt">RFC 3442</a>: </td>
  <td style="vertical-align: bottom;"><p class="line862">The Classless Static Route Option for Dynamic Host Configuration Protocol (DHCP) version 4 </td>
</tr>
<tr>  <td style="vertical-align: bottom;"><span class="anchor" id="line-107"></span><p class="line891"><a class="http" href="http://www.ietf.org/rfc/rfc3679.txt">RFC 3679</a>: </td>
  <td style="vertical-align: bottom;"><p class="line862">Unused Dynamic Host Configuration Protocol (DHCP) Option Codes </td>
</tr>
<tr>  <td style="vertical-align: bottom;"><span class="anchor" id="line-108"></span><p class="line891"><a class="http" href="http://www.ietf.org/rfc/rfc3942.txt">RFC 3942</a>: </td>
  <td style="vertical-align: bottom;"><p class="line862">Reclassifying Dynamic Host Configuration Protocol version 4 (DHCPv4) Options </td>
</tr>
<tr>  <td style="vertical-align: bottom;"><span class="anchor" id="line-109"></span><p class="line891"><a class="http" href="http://www.ietf.org/rfc/rfc4388.txt">RFC 4388</a>: </td>
  <td style="vertical-align: bottom;"><p class="line862">Dynamic Host Configuration Protocol (DHCP) Leasequery </td>
</tr>
</tbody></table></div><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><p class="line867">
<h3 id="head-7fc2b66dc12b728c6fb1e52c4bc3ea81673b42b5">Are there some non conformance to RFCs?</h3>
<span class="anchor" id="line-113"></span><p class="line874">RFC 2131 - section 4.1 - the behaviour of the server can not be totally conformant due to Java limitation. <span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><p class="line867"><span class="anchor" id="line-116"></span><pre>   [...]
<span class="anchor" id="line-117"></span>   If 'giaddr' is zero and 'ciaddr' is zero, and the broadcast bit is
<span class="anchor" id="line-118"></span>   set, then the server broadcasts DHCPOFFER and DHCPACK messages to
<span class="anchor" id="line-119"></span>   0xffffffff. If the broadcast bit is not set and 'giaddr' is zero and
<span class="anchor" id="line-120"></span>   'ciaddr' is zero, then    .
<span class="anchor" id="line-121"></span>   [...]</pre><span class="anchor" id="line-122"></span><p class="line874">It is not possible to unicast UDP datagrams to hardware addresses using the Java API. Only unicast to IP addresses are supported. As a side effect, servers act always as if the broadcast bit is always set. This has no functional impact on clients and negligible impact on network traffic. <span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span><p class="line867"><strong>Who uses DHCP4Java?</strong> <span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><p class="line874">[Coming soon] <span class="anchor" id="line-127"></span><span class="anchor" id="bottom"></span></div><div class="visualClear"></div>
<div id="pagebottom"></div>
</div>

</div>
<div id="column-one">


<div class="portlet" id="p-dhcp4java"><h5>DHCP4Java / Cluster</h5><div class="pBody"><ul id="navibar"><li class="wikilink"><a href="FrontPage.html">Home</a></li><li class="wikilink"><a href="Introduction.html">Introduction</a></li><li class="wikilink"><a href="ArchitectureDesign.html">Architecture and Design</a></li></ul></div></div>
<div class="portlet" id="p-dhcp4java"><h5>Download</h5><div class="pBody"><ul id="navibar"><li class="wikilink"><a href="Download.html">Download</a></li></ul></div></div>




</div>
<div class="visualClear"></div>
<div id="footer"><div style="float:right;"><font size="1">hosted by </font> <A href="http://sourceforge.net"><IMG src="http://sourceforge.net/sflogo.php?group_id=160305" width="88" height="31"border="0" alt="SourceForge Logo"></A></font></div>
last edited 2007-03-12 08:36:16 by StephanHadinger


</div>
</div>
</div></body>
</html>

