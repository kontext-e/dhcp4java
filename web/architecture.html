<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
    Architecture    [dhcp4java]
  </title>

  <link rel="stylesheet" media="screen" type="text/css" href="static/main.css" />
<link rel="stylesheet" media="print" type="text/css" href="static/print.css" />
<script type="text/javascript" charset="utf-8" src="lib/exe/js.php@edit=0&amp;write=0&amp;.js" ></script>

<!--  <link rel="shortcut icon" href="/lib/tpl/sidebar/images/favicon.ico" />-->

  </head>

<body class='sidebar_inside_left'>
<div class="dokuwiki">
  
  <div class="stylehead">

    <div class="header">
      <div class="pagename">
        [[<a>Architecture</a>]]
      </div>
      <div class="logo">
        <a href="http://localhost/"  name="dokuwiki__top" id="dokuwiki__top" accesskey="h" title="[ALT+H]">dhcp4java</a>      </div>

      <div class="clearer"></div>
    </div>

    
    <div class="bar" id="bar__top">
      <div class="bar-left" id="bar__topleft">
                      </div>

      <div class="bar-right" id="bar__topright">
                &nbsp;
      </div>

      <div class="clearer"></div>
    </div>

    
    
  </div>
  
  
  <div class="page">
    <!-- wikipage start -->
    <div class="toc">
<div class="tocheader toctoggle" id="toc__header">Table of Contents</div>
<div id="toc__inside">

<ul class="toc">
<li class="level1"><div class="li"><span class="li"><a href="architecture.html#architecture" class="toc">Architecture</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="architecture.html#global_architecture" class="toc">Global Architecture</a></span></div>
<ul class="toc">
<li class="level3"><div class="li"><span class="li"><a href="architecture.html#example_1simple_lan_dhcp_server" class="toc">Example 1: simple LAN DHCP server</a></span></div></li>
<li class="level3"><div class="li"><span class="li"><a href="architecture.html#example_2isp-wide_solution" class="toc">Example 2: ISP-wide solution</a></span></div></li>
</ul>
</li>
<li class="level2"><div class="li"><span class="li"><a href="architecture.html#thin_client_principle" class="toc">Thin client principle</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="architecture.html#dhcp_cluster_configuration" class="toc">DHCP Cluster configuration</a></span></div></li></ul>
</li></ul>
</div>
</div>



<h1><a name="architecture" id="architecture">Architecture</a></h1>
<div class="level1">

</div>

<h2><a name="global_architecture" id="global_architecture">Global Architecture</a></h2>
<div class="level2">

<p>
 The DHCP Cluster&rsquo;s architecture is similar to common dynamic web server. It relies on a central database holding all persistent data, and one or more front-end servers (first tier server). This is a well proven architecture principle allowing for a wide range of scalability and high-availability solutions.
</p>

<p>
<img src="_media/highlevelfrontback.png" class="media" title="High Level Schema" alt="High Level Schema" />
</p>

<p>
This architecture is a logical view. It can be used through a wide range of configuration, from a simple stand-alone LAN server to a <acronym title="Internet Service Provider">ISP</acronym>-wide DHCP for millions of customers.
</p>

</div>

<h3><a name="example_1simple_lan_dhcp_server" id="example_1simple_lan_dhcp_server">Example 1: simple LAN DHCP server</a></h3>
<div class="level3">

<p>
 <span style="background-color: #ff0">[shema]</span>
</p>

<p>
In this example, the dhcp-server is a all-in-one Java process holding all functions at once. It is very simple to install and works out-of-the-box. The front-end and database engine run in the same Java process.
</p>

<p>
The network topology is stored in a <acronym title="Extensible Markup Language">XML</acronym> file, the dhcp-leases are stored via a <a href="http://hsqldb.org/" class="urlextern" title="http://hsqldb.org/"  rel="nofollow">HSQL</a> database.
</p>

</div>

<h3><a name="example_2isp-wide_solution" id="example_2isp-wide_solution">Example 2: ISP-wide solution</a></h3>
<div class="level3">

<p>
<span style="background-color: #ff0">[shema]</span>
</p>

<p>
Here, front-ends and back-end are on separate servers. Front-ends are deployed in server farms and load-balancing is done via separate network load balancers. More than one server farms can be deployed on separate sites, as long as they have a permanent connection to the database.
</p>

<p>
The database holds the network topology and the dhcp-leases. Database engine can be Oracle (work in progress) or MySQL (work in progress). It is highly recommended to build high-availability databases through clusters.
</p>

</div>

<h2><a name="thin_client_principle" id="thin_client_principle">Thin client principle</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Font-end servers should virtually no specific data. It should only have pure local information (ip/port to bind to) and configuration to connect to the back-end. All application configuration is loaded from the back-end. In fallback mode, when connection to db is not possible, the front-end uses the last configuration locally cached.</div>
</li>
<li class="level1"><div class="li"> Any change in network topology can be pushed to front-end servers without any server restart or service interruption. Only major configuration changes may require front-end restart.</div>
</li>
</ul>

</div>

<h2><a name="dhcp_cluster_configuration" id="dhcp_cluster_configuration">DHCP Cluster configuration</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <strong>Network topology</strong>: this is the core of the DHCP Cluster configuration. It contains all managed IP subnets and associated parameters. Network nodes are stored in a hierarchical tree. Each node in the tree holds its own configuration that overrides its parent node configuration on part or all parameters.</div>
</li>
<li class="level1"><div class="li"> <strong>Subnets, shared networks, address pools</strong>: eventually all address pools used to serve clients.</div>
</li>
<li class="level1"><div class="li"> <strong>Static addresses&rsquo;&lsquo;&lsquo;</strong>: you can manually force IP addresses for specific clients</div>
</li>
<li class="level1"><div class="li"> <strong>Request filter</strong>: a logical predicate whether to handle the client request or not. This allows to silently ignored requests you don&rsquo;t want to handle (BOOTP, vendor class...)</div>
</li>
<li class="level1"><div class="li"> <strong>DHCP options</strong>: list of DHCP options sent back to the client. It can be static options or calculated options. At each node level, options can either replace or concatenate to parent node options.</div>
</li>
</ul>

</div>

    <!-- wikipage stop -->
  </div>
  <div id="sidebar">
    <div id="sidebar_content">      


<h1><a name="dhcp4java" id="dhcp4java">dhcp4java</a></h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> <a href="index.html" class="wikilink1" title="index">Home</a></div>
</li>
<li class="level1"><div class="li"> <a href="overview.html" class="wikilink1" title="overview">Overview</a></div>
</li>
<li class="level1"><div class="li"> <a href="download.html" class="wikilink1" title="download">Download</a></div>
</li>
<li class="level1"><div class="li"> <a href="architecture.html" class="wikilink1" title="architecture">Architecture</a></div>
</li>
<li class="level1"><div class="li"> <a href="frequently_asked_questions.html" class="wikilink1" title="frequently_asked_questions">FAQ</a></div>
</li>
<li class="level1"><div class="li"> <a href="design_goals.html" class="wikilink1" title="design_goals">Design Goals</a></div>
</li>
</ul>

</div>
<!-- SECTION "dhcp4java" [2-162] -->
<h2><a name="server_internals" id="server_internals">Server internals</a></h2>
<div class="level2">

<p>
<em>for developpers</em> 
</p>
<ul>
<li class="level1"><div class="li"> <a href="server_internals.html" class="wikilink1" title="server_internals">Server internals</a></div>
</li>
<li class="level1"><div class="li"> <a href="javadoc-server/index.html" class="urlextern" title="http://localhost/javadoc-server/index.html"  rel="nofollow">Javadoc</a></div>
</li>
<li class="level1"><div class="li"> <a href="hsqldb_backend.html" class="wikilink1" title="hsqldb_backend">Hsqldb Back-end</a></div>
</li>
</ul>

</div>
<!-- SECTION "Server internals" [163-321] -->
<h2><a name="dhcp_api" id="dhcp_api">DHCP API</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <a href="http://localhost/api_documentation" class="wikilink2" title="api_documentation">API Documentation</a></div>
</li>
<li class="level1"><div class="li"> <a href="javadoc-api/index.html" class="urlextern" title="http://localhost/javadoc-api/index.html"  rel="nofollow">Javadoc</a></div>
</li>
<li class="level1"><div class="li"> <a href="download.html" class="wikilink1" title="download">Download</a></div>
</li>
</ul>



</div>
<!-- SECTION "DHCP API" [322-] -->    </div>
  </div>

  <div class="clearer">&nbsp;</div>

  
  <div class="stylefoot">

    <div class="meta">
      <div class="user">
              </div>
      <div class="doc">
        architecture.txt &middot; Last modified: 2007/04/10 18:27 by shadinger      </div>
    </div>

   
    <div class="bar" id="bar__bottom">
      <div style="float:left;">
        <font size="1">hosted by </font> <A href="http://sourceforge.net"><IMG src="http://sourceforge.net/sflogo.php?group_id=160305" width="88" height="31"border="0" alt="SourceForge Logo"></A></font>
      </div>
      <div class="bar-left" id="bar__bottomleft">
                      </div>
      <div class="bar-right" id="bar__bottomright">
                                                &nbsp;
      </div>
      <div class="clearer"></div>
    </div>

  </div>

</div>


</body>
</html>
